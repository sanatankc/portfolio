module.exports = {
  content: [
    "./app/**/*.{js,ts,jsx,tsx}",
    "./components/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    fontFamily: {
      'mono': ['Chicago Plain', 'monospace', 'Menlo', 'Monaco', 'Consolas', 'Courier New'],
      'geneva-12': ['Geneva-12', 'sans-serif'],
    },
    extend: {
      // Pixel border utilities
      clipPath: {
        'pixel-xs': `polygon(
          0px calc(100% - 2px),
          2px calc(100% - 2px),
          2px 100%,
          calc(100% - 2px) 100%,
          calc(100% - 2px) calc(100% - 2px),
          100% calc(100% - 2px),
          100% 2px,
          calc(100% - 2px) 2px,
          calc(100% - 2px) 0px,
          2px 0px,
          2px 2px,
          0px 2px
        )`,
        'pixel-sm': `polygon(
          0px calc(100% - 3px),
          3px calc(100% - 3px),
          3px 100%,
          calc(100% - 3px) 100%,
          calc(100% - 3px) calc(100% - 3px),
          100% calc(100% - 3px),
          100% 3px,
          calc(100% - 3px) 3px,
          calc(100% - 3px) 0px,
          3px 0px,
          3px 3px,
          0px 3px
        )`,
        'pixel-md': `polygon(
          0px calc(100% - 4px),
          4px calc(100% - 4px),
          4px 100%,
          calc(100% - 4px) 100%,
          calc(100% - 4px) calc(100% - 4px),
          100% calc(100% - 4px),
          100% 4px,
          calc(100% - 4px) 4px,
          calc(100% - 4px) 0px,
          4px 0px,
          4px 4px,
          0px 4px
        )`,
        'pixel-lg': `polygon(
          0px calc(100% - 6px),
          6px calc(100% - 6px),
          6px 100%,
          calc(100% - 6px) 100%,
          calc(100% - 6px) calc(100% - 6px),
          100% calc(100% - 6px),
          100% 6px,
          calc(100% - 6px) 6px,
          calc(100% - 6px) 0px,
          6px 0px,
          6px 6px,
          0px 6px
        )`,
        'pixel-xl': `polygon(
          0px calc(100% - 8px),
          8px calc(100% - 8px),
          8px 100%,
          calc(100% - 8px) 100%,
          calc(100% - 8px) calc(100% - 8px),
          100% calc(100% - 8px),
          100% 8px,
          calc(100% - 8px) 8px,
          calc(100% - 8px) 0px,
          8px 0px,
          8px 8px,
          0px 8px
        )`
      }
    }
  },
  plugins: [
    function({ addUtilities, matchUtilities, theme }: { 
      addUtilities: (utilities: Record<string, unknown>) => void;
      matchUtilities: (utilities: Record<string, (value: string) => Record<string, unknown>>, options?: { values?: Record<string, string>; type?: string }) => void;
      theme: (path: string) => Record<string, string>;
    }) {
      // Add the pixel-corners classes
      const pixelCorners = {
        '.pixel-corners, .pixel-corners--wrapper': {
          'clip-path': `polygon(
            0px calc(100% - 4px),
            2px calc(100% - 4px),
            2px calc(100% - 2px),
            4px calc(100% - 2px),
            4px 100%,
            calc(100% - 4px) 100%,
            calc(100% - 4px) calc(100% - 2px),
            calc(100% - 2px) calc(100% - 2px),
            calc(100% - 2px) calc(100% - 4px),
            100% calc(100% - 4px),
            100% 4px,
            calc(100% - 2px) 4px,
            calc(100% - 2px) 2px,
            calc(100% - 4px) 2px,
            calc(100% - 4px) 0px,
            4px 0px,
            4px 2px,
            2px 2px,
            2px 4px,
            0px 4px
          )`,
          position: 'relative'
        },
        '.pixel-corners': {
          border: '2px solid transparent'
        },
        '.pixel-corners--wrapper': {
          width: 'fit-content',
          height: 'fit-content'
        },
        '.pixel-corners--wrapper .pixel-corners': {
          display: 'block',
          'clip-path': `polygon(
            2px 4px,
            4px 4px,
            4px 2px,
            calc(100% - 4px) 2px,
            calc(100% - 4px) 4px,
            calc(100% - 2px) 4px,
            calc(100% - 2px) calc(100% - 4px),
            calc(100% - 4px) calc(100% - 4px),
            calc(100% - 4px) calc(100% - 2px),
            4px calc(100% - 2px),
            4px calc(100% - 4px),
            2px calc(100% - 4px)
          )`
        },
        '.pixel-corners::after, .pixel-corners--wrapper::after': {
          content: '""',
          position: 'absolute',
          'clip-path': `polygon(
            0px calc(100% - 4px),
            2px calc(100% - 4px),
            2px calc(100% - 2px),
            4px calc(100% - 2px),
            4px 100%,
            calc(100% - 4px) 100%,
            calc(100% - 4px) calc(100% - 2px),
            calc(100% - 2px) calc(100% - 2px),
            calc(100% - 2px) calc(100% - 4px),
            100% calc(100% - 4px),
            100% 4px,
            calc(100% - 2px) 4px,
            calc(100% - 2px) 2px,
            calc(100% - 4px) 2px,
            calc(100% - 4px) 0px,
            4px 0px,
            4px 2px,
            2px 2px,
            2px 4px,
            0px 4px,
            0px 50%,
            2px 50%,
            2px 4px,
            4px 4px,
            4px 2px,
            calc(100% - 4px) 2px,
            calc(100% - 4px) 4px,
            calc(100% - 2px) 4px,
            calc(100% - 2px) calc(100% - 4px),
            calc(100% - 4px) calc(100% - 4px),
            calc(100% - 4px) calc(100% - 2px),
            4px calc(100% - 2px),
            4px calc(100% - 4px),
            2px calc(100% - 4px),
            2px 50%,
            0px 50%
          )`,
          top: 0,
          bottom: 0,
          left: 0,
          right: 0,
          background: '#c7c7c7',
          display: 'block',
          'pointer-events': 'none'
        },
        '.pixel-corners::after': {
          margin: '-2px'
        },
        // XS version - 4x smaller
        '.pixel-corners-xs, .pixel-corners-xs--wrapper': {
          'clip-path': `polygon(
            0px calc(100% - 1px),
            0.5px calc(100% - 1px),
            0.5px calc(100% - 0.5px),
            1px calc(100% - 0.5px),
            1px 100%,
            calc(100% - 1px) 100%,
            calc(100% - 1px) calc(100% - 0.5px),
            calc(100% - 0.5px) calc(100% - 0.5px),
            calc(100% - 0.5px) calc(100% - 1px),
            100% calc(100% - 1px),
            100% 1px,
            calc(100% - 0.5px) 1px,
            calc(100% - 0.5px) 0.5px,
            calc(100% - 1px) 0.5px,
            calc(100% - 1px) 0px,
            1px 0px,
            1px 0.5px,
            0.5px 0.5px,
            0.5px 1px,
            0px 1px
          )`,
          position: 'relative'
        },
        '.pixel-corners-xs': {
          border: '0.5px solid transparent'
        },
        '.pixel-corners-xs--wrapper': {
          width: 'fit-content',
          height: 'fit-content'
        },
        '.pixel-corners-xs--wrapper .pixel-corners-xs': {
          display: 'block',
          'clip-path': `polygon(
            0.5px 1px,
            1px 1px,
            1px 0.5px,
            calc(100% - 1px) 0.5px,
            calc(100% - 1px) 1px,
            calc(100% - 0.5px) 1px,
            calc(100% - 0.5px) calc(100% - 1px),
            calc(100% - 1px) calc(100% - 1px),
            calc(100% - 1px) calc(100% - 0.5px),
            1px calc(100% - 0.5px),
            1px calc(100% - 1px),
            0.5px calc(100% - 1px)
          )`
        },
        '.pixel-corners-xs::after, .pixel-corners-xs--wrapper::after': {
          content: '""',
          position: 'absolute',
          'clip-path': `polygon(
            0px calc(100% - 1px),
            0.5px calc(100% - 1px),
            0.5px calc(100% - 0.5px),
            1px calc(100% - 0.5px),
            1px 100%,
            calc(100% - 1px) 100%,
            calc(100% - 1px) calc(100% - 0.5px),
            calc(100% - 0.5px) calc(100% - 0.5px),
            calc(100% - 0.5px) calc(100% - 1px),
            100% calc(100% - 1px),
            100% 1px,
            calc(100% - 0.5px) 1px,
            calc(100% - 0.5px) 0.5px,
            calc(100% - 1px) 0.5px,
            calc(100% - 1px) 0px,
            1px 0px,
            1px 0.5px,
            0.5px 0.5px,
            0.5px 1px,
            0px 1px,
            0px 50%,
            0.5px 50%,
            0.5px 1px,
            1px 1px,
            1px 0.5px,
            calc(100% - 1px) 0.5px,
            calc(100% - 1px) 1px,
            calc(100% - 0.5px) 1px,
            calc(100% - 0.5px) calc(100% - 1px),
            calc(100% - 1px) calc(100% - 1px),
            calc(100% - 1px) calc(100% - 0.5px),
            1px calc(100% - 0.5px),
            1px calc(100% - 1px),
            0.5px calc(100% - 1px),
            0.5px 50%,
            0px 50%
          )`,
          top: 0,
          bottom: 0,
          left: 0,
          right: 0,
          background: '#c7c7c7',
          display: 'block',
          'pointer-events': 'none'
        },
        '.pixel-corners-xs::after': {
          margin: '-0.5px'
        },
        // LG version - larger with more complex corners
        '.pixel-corners-lg, .pixel-corners-lg--wrapper': {
          'clip-path': `polygon(
            0px calc(100% - 10px),
            2px calc(100% - 10px),
            2px calc(100% - 6px),
            4px calc(100% - 6px),
            4px calc(100% - 4px),
            6px calc(100% - 4px),
            6px calc(100% - 2px),
            10px calc(100% - 2px),
            10px 100%,
            calc(100% - 10px) 100%,
            calc(100% - 10px) calc(100% - 2px),
            calc(100% - 6px) calc(100% - 2px),
            calc(100% - 6px) calc(100% - 4px),
            calc(100% - 4px) calc(100% - 4px),
            calc(100% - 4px) calc(100% - 6px),
            calc(100% - 2px) calc(100% - 6px),
            calc(100% - 2px) calc(100% - 10px),
            100% calc(100% - 10px),
            100% 10px,
            calc(100% - 2px) 10px,
            calc(100% - 2px) 6px,
            calc(100% - 4px) 6px,
            calc(100% - 4px) 4px,
            calc(100% - 6px) 4px,
            calc(100% - 6px) 2px,
            calc(100% - 10px) 2px,
            calc(100% - 10px) 0px,
            10px 0px,
            10px 2px,
            6px 2px,
            6px 4px,
            4px 4px,
            4px 6px,
            2px 6px,
            2px 10px,
            0px 10px
          )`,
          position: 'relative'
        },
        '.pixel-corners-lg': {
          border: '4px solid transparent'
        },
        '.pixel-corners-lg--wrapper': {
          width: 'fit-content',
          height: 'fit-content'
        },
        '.pixel-corners-lg--wrapper .pixel-corners-lg': {
          display: 'block',
          'clip-path': `polygon(
            4px 12px,
            6px 12px,
            6px 8px,
            8px 8px,
            8px 6px,
            12px 6px,
            12px 4px,
            calc(100% - 12px) 4px,
            calc(100% - 12px) 6px,
            calc(100% - 8px) 6px,
            calc(100% - 8px) 8px,
            calc(100% - 6px) 8px,
            calc(100% - 6px) 12px,
            calc(100% - 4px) 12px,
            calc(100% - 4px) calc(100% - 12px),
            calc(100% - 6px) calc(100% - 12px),
            calc(100% - 6px) calc(100% - 8px),
            calc(100% - 8px) calc(100% - 8px),
            calc(100% - 8px) calc(100% - 6px),
            calc(100% - 12px) calc(100% - 6px),
            calc(100% - 12px) calc(100% - 4px),
            12px calc(100% - 4px),
            12px calc(100% - 6px),
            8px calc(100% - 6px),
            8px calc(100% - 8px),
            6px calc(100% - 8px),
            6px calc(100% - 12px),
            4px calc(100% - 12px)
          )`
        },
        '.pixel-corners-lg::after, .pixel-corners-lg--wrapper::after': {
          content: '""',
          position: 'absolute',
          'clip-path': `polygon(
            0px calc(100% - 10px),
            2px calc(100% - 10px),
            2px calc(100% - 6px),
            4px calc(100% - 6px),
            4px calc(100% - 4px),
            6px calc(100% - 4px),
            6px calc(100% - 2px),
            10px calc(100% - 2px),
            10px 100%,
            calc(100% - 10px) 100%,
            calc(100% - 10px) calc(100% - 2px),
            calc(100% - 6px) calc(100% - 2px),
            calc(100% - 6px) calc(100% - 4px),
            calc(100% - 4px) calc(100% - 4px),
            calc(100% - 4px) calc(100% - 6px),
            calc(100% - 2px) calc(100% - 6px),
            calc(100% - 2px) calc(100% - 10px),
            100% calc(100% - 10px),
            100% 10px,
            calc(100% - 2px) 10px,
            calc(100% - 2px) 6px,
            calc(100% - 4px) 6px,
            calc(100% - 4px) 4px,
            calc(100% - 6px) 4px,
            calc(100% - 6px) 2px,
            calc(100% - 10px) 2px,
            calc(100% - 10px) 0px,
            10px 0px,
            10px 2px,
            6px 2px,
            6px 4px,
            4px 4px,
            4px 6px,
            2px 6px,
            2px 10px,
            0px 10px,
            0px 50%,
            4px 50%,
            4px 12px,
            6px 12px,
            6px 8px,
            8px 8px,
            8px 6px,
            12px 6px,
            12px 4px,
            calc(100% - 12px) 4px,
            calc(100% - 12px) 6px,
            calc(100% - 8px) 6px,
            calc(100% - 8px) 8px,
            calc(100% - 6px) 8px,
            calc(100% - 6px) 12px,
            calc(100% - 4px) 12px,
            calc(100% - 4px) calc(100% - 12px),
            calc(100% - 6px) calc(100% - 12px),
            calc(100% - 6px) calc(100% - 8px),
            calc(100% - 8px) calc(100% - 8px),
            calc(100% - 8px) calc(100% - 6px),
            calc(100% - 12px) calc(100% - 6px),
            calc(100% - 12px) calc(100% - 4px),
            12px calc(100% - 4px),
            12px calc(100% - 6px),
            8px calc(100% - 6px),
            8px calc(100% - 8px),
            6px calc(100% - 8px),
            6px calc(100% - 12px),
            4px calc(100% - 12px),
            4px 50%,
            0px 50%
          )`,
          top: 0,
          bottom: 0,
          left: 0,
          right: 0,
          background: '#c7c7c7',
          display: 'block',
          'pointer-events': 'none'
        },
        '.pixel-corners-lg::after': {
          margin: '-4px'
        }
      };
      
      addUtilities(pixelCorners);

      // Add border-pixel-sm-[color] utility (updated to match pixel-corners)
      matchUtilities(
        {
          'border-pixel-sm': (value: string) => ({
            'clip-path': `polygon(
              0px calc(100% - 4px),
              2px calc(100% - 4px),
              2px calc(100% - 2px),
              4px calc(100% - 2px),
              4px 100%,
              calc(100% - 4px) 100%,
              calc(100% - 4px) calc(100% - 2px),
              calc(100% - 2px) calc(100% - 2px),
              calc(100% - 2px) calc(100% - 4px),
              100% calc(100% - 4px),
              100% 4px,
              calc(100% - 2px) 4px,
              calc(100% - 2px) 2px,
              calc(100% - 4px) 2px,
              calc(100% - 4px) 0px,
              4px 0px,
              4px 2px,
              2px 2px,
              2px 4px,
              0px 4px
            )`,
            position: 'relative',
            border: '2px solid transparent',
            '&::after': {
              content: '""',
              position: 'absolute',
              'clip-path': `polygon(
                0px calc(100% - 4px),
                2px calc(100% - 4px),
                2px calc(100% - 2px),
                4px calc(100% - 2px),
                4px 100%,
                calc(100% - 4px) 100%,
                calc(100% - 4px) calc(100% - 2px),
                calc(100% - 2px) calc(100% - 2px),
                calc(100% - 2px) calc(100% - 4px),
                100% calc(100% - 4px),
                100% 4px,
                calc(100% - 2px) 4px,
                calc(100% - 2px) 2px,
                calc(100% - 4px) 2px,
                calc(100% - 4px) 0px,
                4px 0px,
                4px 2px,
                2px 2px,
                2px 4px,
                0px 4px,
                0px 50%,
                2px 50%,
                2px 4px,
                4px 4px,
                4px 2px,
                calc(100% - 4px) 2px,
                calc(100% - 4px) 4px,
                calc(100% - 2px) 4px,
                calc(100% - 2px) calc(100% - 4px),
                calc(100% - 4px) calc(100% - 4px),
                calc(100% - 4px) calc(100% - 2px),
                4px calc(100% - 2px),
                4px calc(100% - 4px),
                2px calc(100% - 4px),
                2px 50%,
                0px 50%
              )`,
              top: 0,
              bottom: 0,
              left: 0,
              right: 0,
              margin: '-2px',
              background: value,
              display: 'block',
              'pointer-events': 'none'
            }
          })
        },
        {
          values: theme('colors'),
          type: 'color'
        }
      );

      // Add border-pixel-xs-[color] utility
      matchUtilities(
        {
          'border-pixel-xs': (value: string) => ({
            'clip-path': `polygon(
              0px calc(100% - 1px),
              0.5px calc(100% - 1px),
              0.5px calc(100% - 0.5px),
              1px calc(100% - 0.5px),
              1px 100%,
              calc(100% - 1px) 100%,
              calc(100% - 1px) calc(100% - 0.5px),
              calc(100% - 0.5px) calc(100% - 0.5px),
              calc(100% - 0.5px) calc(100% - 1px),
              100% calc(100% - 1px),
              100% 1px,
              calc(100% - 0.5px) 1px,
              calc(100% - 0.5px) 0.5px,
              calc(100% - 1px) 0.5px,
              calc(100% - 1px) 0px,
              1px 0px,
              1px 0.5px,
              0.5px 0.5px,
              0.5px 1px,
              0px 1px
            )`,
            position: 'relative',
            border: '0.5px solid transparent',
            '&::after': {
              content: '""',
              position: 'absolute',
              'clip-path': `polygon(
                0px calc(100% - 1px),
                0.5px calc(100% - 1px),
                0.5px calc(100% - 0.5px),
                1px calc(100% - 0.5px),
                1px 100%,
                calc(100% - 1px) 100%,
                calc(100% - 1px) calc(100% - 0.5px),
                calc(100% - 0.5px) calc(100% - 0.5px),
                calc(100% - 0.5px) calc(100% - 1px),
                100% calc(100% - 1px),
                100% 1px,
                calc(100% - 0.5px) 1px,
                calc(100% - 0.5px) 0.5px,
                calc(100% - 1px) 0.5px,
                calc(100% - 1px) 0px,
                1px 0px,
                1px 0.5px,
                0.5px 0.5px,
                0.5px 1px,
                0px 1px,
                0px 50%,
                0.5px 50%,
                0.5px 1px,
                1px 1px,
                1px 0.5px,
                calc(100% - 1px) 0.5px,
                calc(100% - 1px) 1px,
                calc(100% - 0.5px) 1px,
                calc(100% - 0.5px) calc(100% - 1px),
                calc(100% - 1px) calc(100% - 1px),
                calc(100% - 1px) calc(100% - 0.5px),
                1px calc(100% - 0.5px),
                1px calc(100% - 1px),
                0.5px calc(100% - 1px),
                0.5px 50%,
                0px 50%
              )`,
              top: 0,
              bottom: 0,
              left: 0,
              right: 0,
              margin: '-0.5px',
              background: value,
              display: 'block',
              'pointer-events': 'none'
            }
          })
        },
                 {
           values: theme('colors'),
           type: 'color'
         }
       );

       // Add border-pixel-lg-[color] utility
       matchUtilities(
         {
           'border-pixel-lg': (value: string) => ({
             'clip-path': `polygon(
               0px calc(100% - 10px),
               2px calc(100% - 10px),
               2px calc(100% - 6px),
               4px calc(100% - 6px),
               4px calc(100% - 4px),
               6px calc(100% - 4px),
               6px calc(100% - 2px),
               10px calc(100% - 2px),
               10px 100%,
               calc(100% - 10px) 100%,
               calc(100% - 10px) calc(100% - 2px),
               calc(100% - 6px) calc(100% - 2px),
               calc(100% - 6px) calc(100% - 4px),
               calc(100% - 4px) calc(100% - 4px),
               calc(100% - 4px) calc(100% - 6px),
               calc(100% - 2px) calc(100% - 6px),
               calc(100% - 2px) calc(100% - 10px),
               100% calc(100% - 10px),
               100% 10px,
               calc(100% - 2px) 10px,
               calc(100% - 2px) 6px,
               calc(100% - 4px) 6px,
               calc(100% - 4px) 4px,
               calc(100% - 6px) 4px,
               calc(100% - 6px) 2px,
               calc(100% - 10px) 2px,
               calc(100% - 10px) 0px,
               10px 0px,
               10px 2px,
               6px 2px,
               6px 4px,
               4px 4px,
               4px 6px,
               2px 6px,
               2px 10px,
               0px 10px
             )`,
             position: 'relative',
             border: '4px solid transparent',
             '&::after': {
               content: '""',
               position: 'absolute',
               'clip-path': `polygon(
                 0px calc(100% - 10px),
                 2px calc(100% - 10px),
                 2px calc(100% - 6px),
                 4px calc(100% - 6px),
                 4px calc(100% - 4px),
                 6px calc(100% - 4px),
                 6px calc(100% - 2px),
                 10px calc(100% - 2px),
                 10px 100%,
                 calc(100% - 10px) 100%,
                 calc(100% - 10px) calc(100% - 2px),
                 calc(100% - 6px) calc(100% - 2px),
                 calc(100% - 6px) calc(100% - 4px),
                 calc(100% - 4px) calc(100% - 4px),
                 calc(100% - 4px) calc(100% - 6px),
                 calc(100% - 2px) calc(100% - 6px),
                 calc(100% - 2px) calc(100% - 10px),
                 100% calc(100% - 10px),
                 100% 10px,
                 calc(100% - 2px) 10px,
                 calc(100% - 2px) 6px,
                 calc(100% - 4px) 6px,
                 calc(100% - 4px) 4px,
                 calc(100% - 6px) 4px,
                 calc(100% - 6px) 2px,
                 calc(100% - 10px) 2px,
                 calc(100% - 10px) 0px,
                 10px 0px,
                 10px 2px,
                 6px 2px,
                 6px 4px,
                 4px 4px,
                 4px 6px,
                 2px 6px,
                 2px 10px,
                 0px 10px,
                 0px 50%,
                 4px 50%,
                 4px 12px,
                 6px 12px,
                 6px 8px,
                 8px 8px,
                 8px 6px,
                 12px 6px,
                 12px 4px,
                 calc(100% - 12px) 4px,
                 calc(100% - 12px) 6px,
                 calc(100% - 8px) 6px,
                 calc(100% - 8px) 8px,
                 calc(100% - 6px) 8px,
                 calc(100% - 6px) 12px,
                 calc(100% - 4px) 12px,
                 calc(100% - 4px) calc(100% - 12px),
                 calc(100% - 6px) calc(100% - 12px),
                 calc(100% - 6px) calc(100% - 8px),
                 calc(100% - 8px) calc(100% - 8px),
                 calc(100% - 8px) calc(100% - 6px),
                 calc(100% - 12px) calc(100% - 6px),
                 calc(100% - 12px) calc(100% - 4px),
                 12px calc(100% - 4px),
                 12px calc(100% - 6px),
                 8px calc(100% - 6px),
                 8px calc(100% - 8px),
                 6px calc(100% - 8px),
                 6px calc(100% - 12px),
                 4px calc(100% - 12px),
                 4px 50%,
                 0px 50%
               )`,
               top: 0,
               bottom: 0,
               left: 0,
               right: 0,
               margin: '-4px',
               background: value,
               display: 'block',
               'pointer-events': 'none'
             }
           })
         },
         {
           values: theme('colors'),
           type: 'color'
         }
       );
    }
  ]
};